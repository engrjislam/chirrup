
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module connections</title>
<meta charset="utf-8">
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>connections</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:///C:/users/eemel/desktop/chat_app/api/connections.py">c:\users\eemel\desktop\chat_app\api\connections.py</a></font></td></tr></table>
    <p><tt>Based&nbsp;on&nbsp;University&nbsp;of&nbsp;Oulu's&nbsp;Programmable&nbsp;web&nbsp;project-course&nbsp;exercise&nbsp;1.<br>
Homepage:<br>
<a href="http://confluence.atlassian.virtues.fi/display/PWP/521260S+Programmable+Web+Project+%285cu%29+Home">http://confluence.atlassian.virtues.fi/display/PWP/521260S+Programmable+Web+Project+%285cu%29+Home</a><br>
&nbsp;<br>
Created&nbsp;on&nbsp;11.07.2017</tt></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="sqlite3.html">sqlite3</a><br>
</td><td width="25%" valign=top><a href="time.html">time</a><br>
</td><td width="25%" valign=top></td><td width="25%" valign=top></td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ee77aa">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Classes</strong></big></font></td></tr>
    
<tr><td bgcolor="#ee77aa"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl>
<dt><font face="helvetica, arial"><a href="__builtin__.html#object">__builtin__.object</a>
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="connections.html#Connection">Connection</a>
</font></dt></dl>
</dd>
</dl>
 <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="Connection">class <strong>Connection</strong></a>(<a href="__builtin__.html#object">__builtin__.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>API&nbsp;to&nbsp;access&nbsp;the&nbsp;Chirrup&nbsp;database.<br>
&nbsp;<br>
The&nbsp;sqlite3&nbsp;connection&nbsp;instance&nbsp;is&nbsp;accessible&nbsp;to&nbsp;all&nbsp;the&nbsp;methods&nbsp;of&nbsp;this<br>
class&nbsp;through&nbsp;the&nbsp;:py:attr:`self.<strong>con</strong>`&nbsp;attribute.<br>
&nbsp;<br>
An&nbsp;instance&nbsp;of&nbsp;this&nbsp;class&nbsp;should&nbsp;not&nbsp;be&nbsp;instantiated&nbsp;directly&nbsp;using&nbsp;the<br>
constructor.&nbsp;Instead&nbsp;use&nbsp;the&nbsp;:py:meth:`Engine.connect`.<br>
&nbsp;<br>
Use&nbsp;the&nbsp;method&nbsp;:py:meth:`close`&nbsp;in&nbsp;order&nbsp;to&nbsp;close&nbsp;a&nbsp;connection.<br>
A&nbsp;:py:class:`<a href="#Connection">Connection</a>`&nbsp;**MUST**&nbsp;always&nbsp;be&nbsp;closed&nbsp;once&nbsp;when&nbsp;it&nbsp;is&nbsp;not&nbsp;going&nbsp;to&nbsp;be<br>
utilized&nbsp;anymore&nbsp;in&nbsp;order&nbsp;to&nbsp;release&nbsp;internal&nbsp;locks.<br>
&nbsp;<br>
:param&nbsp;db_path:&nbsp;Location&nbsp;of&nbsp;the&nbsp;database&nbsp;file.<br>
:type&nbsp;dbpath:&nbsp;str<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="Connection-__init__"><strong>__init__</strong></a>(self, db_path)</dt></dl>

<dl><dt><a name="Connection-add_room_member"><strong>add_room_member</strong></a>(self, room_id, user_id)</dt><dd><tt>Adds&nbsp;a&nbsp;user&nbsp;to&nbsp;a&nbsp;room&nbsp;i.e.&nbsp;adds&nbsp;a&nbsp;row&nbsp;in&nbsp;the&nbsp;room_users&nbsp;table.&nbsp;User&nbsp;can't&nbsp;be&nbsp;joined&nbsp;in&nbsp;a&nbsp;room&nbsp;more&nbsp;than&nbsp;once.<br>
:param&nbsp;int&nbsp;room_id:&nbsp;room&nbsp;identifier<br>
:param&nbsp;int&nbsp;user_id:&nbsp;user&nbsp;identifier<br>
:return:&nbsp;True&nbsp;if&nbsp;the&nbsp;member&nbsp;has&nbsp;been&nbsp;added,&nbsp;False&nbsp;if&nbsp;insert-process&nbsp;failed<br>
or&nbsp;None&nbsp;if&nbsp;room&nbsp;or&nbsp;user&nbsp;don't&nbsp;exist.<br>
:raise:&nbsp;ValueError&nbsp;if&nbsp;room_id&nbsp;or&nbsp;user_id&nbsp;malformed</tt></dd></dl>

<dl><dt><a name="Connection-append_user"><strong>append_user</strong></a>(self, user)</dt><dd><tt>Append&nbsp;a&nbsp;new&nbsp;user.<br>
&nbsp;<br>
:param&nbsp;user:&nbsp;a&nbsp;dictionary&nbsp;with&nbsp;the&nbsp;following&nbsp;format:<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;..&nbsp;code-block::&nbsp;javascript<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{'public_profile':{'nickname':,'image':''},<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'private_profile':{'username':'','email':'',<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'status':'','created':'','updated':''}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;where:<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;``nickname``:&nbsp;nickname&nbsp;of&nbsp;the&nbsp;user<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;``image``:&nbsp;name&nbsp;of&nbsp;the&nbsp;image&nbsp;file<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;``username``:&nbsp;used&nbsp;for&nbsp;login<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;``email``:&nbsp;current&nbsp;email&nbsp;of&nbsp;the&nbsp;user,&nbsp;login&nbsp;and&nbsp;user&nbsp;contact&nbsp;purposes<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;``status``:&nbsp;ACTIVE/INACTIVE,&nbsp;deleting&nbsp;a&nbsp;user&nbsp;sets&nbsp;this&nbsp;field&nbsp;INACTIVE.<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;``created``:&nbsp;when&nbsp;the&nbsp;user&nbsp;account&nbsp;was&nbsp;created,&nbsp;UNIX&nbsp;timestamp&nbsp;when&nbsp;the&nbsp;user&nbsp;registered&nbsp;in&nbsp;the&nbsp;system&nbsp;(long&nbsp;integer)<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;``updated``:&nbsp;when&nbsp;the&nbsp;user&nbsp;account&nbsp;was&nbsp;modified,&nbsp;UNIX&nbsp;timestamp&nbsp;when&nbsp;the&nbsp;user&nbsp;registered&nbsp;in&nbsp;the&nbsp;system&nbsp;(long&nbsp;integer)<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Note&nbsp;that&nbsp;all&nbsp;values&nbsp;are&nbsp;string&nbsp;if&nbsp;they&nbsp;are&nbsp;not&nbsp;otherwise&nbsp;indicated.<br>
&nbsp;<br>
:return:&nbsp;the&nbsp;user_id&nbsp;of&nbsp;the&nbsp;modified&nbsp;user&nbsp;or&nbsp;False&nbsp;if&nbsp;creation&nbsp;failed.<br>
:raise&nbsp;ValueError:&nbsp;if&nbsp;the&nbsp;user&nbsp;argument&nbsp;is&nbsp;not&nbsp;well&nbsp;formed.<br>
:raise&nbsp;sqlite3.DatabaseError:&nbsp;if&nbsp;database&nbsp;action&nbsp;not&nbsp;allowed</tt></dd></dl>

<dl><dt><a name="Connection-check_foreign_keys_status"><strong>check_foreign_keys_status</strong></a>(self)</dt><dd><tt>Check&nbsp;if&nbsp;the&nbsp;foreign&nbsp;keys&nbsp;has&nbsp;been&nbsp;activated.<br>
&nbsp;<br>
:return:&nbsp;``True``&nbsp;if&nbsp;&nbsp;foreign_keys&nbsp;is&nbsp;activated&nbsp;and&nbsp;``False``&nbsp;otherwise.<br>
:raises&nbsp;sqlite3.Error:&nbsp;when&nbsp;a&nbsp;sqlite3&nbsp;error&nbsp;happen.&nbsp;In&nbsp;this&nbsp;case&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;connection&nbsp;is&nbsp;closed.</tt></dd></dl>

<dl><dt><a name="Connection-check_if_room_deleted"><strong>check_if_room_deleted</strong></a>(self, room_id)</dt><dd><tt>Checks&nbsp;if&nbsp;room&nbsp;status&nbsp;is&nbsp;inactive&nbsp;or&nbsp;active.<br>
:return:&nbsp;True&nbsp;if&nbsp;the&nbsp;room&nbsp;status&nbsp;INACTIVE.&nbsp;False&nbsp;if&nbsp;ACTIVE,&nbsp;None&nbsp;if&nbsp;user&nbsp;doesn't&nbsp;exist&nbsp;OR<br>
'INVALID&nbsp;STATUS'&nbsp;if&nbsp;status&nbsp;in&nbsp;the&nbsp;row&nbsp;is&nbsp;invalid.</tt></dd></dl>

<dl><dt><a name="Connection-check_if_user_deleted"><strong>check_if_user_deleted</strong></a>(self, user_id)</dt><dd><tt>Checks&nbsp;if&nbsp;user&nbsp;status&nbsp;is&nbsp;inactive&nbsp;or&nbsp;active.<br>
:return:&nbsp;True&nbsp;if&nbsp;the&nbsp;user&nbsp;status&nbsp;INACTIVE.&nbsp;False&nbsp;if&nbsp;ACTIVE,&nbsp;None&nbsp;if&nbsp;user&nbsp;doesn't&nbsp;exist&nbsp;OR<br>
'INVALID&nbsp;STATUS'&nbsp;if&nbsp;status&nbsp;in&nbsp;the&nbsp;row&nbsp;is&nbsp;invalid.</tt></dd></dl>

<dl><dt><a name="Connection-close"><strong>close</strong></a>(self)</dt><dd><tt>Closes&nbsp;the&nbsp;database&nbsp;connection,&nbsp;commiting&nbsp;all&nbsp;changes.</tt></dd></dl>

<dl><dt><a name="Connection-contains_message"><strong>contains_message</strong></a>(self, message_id)</dt><dd><tt>Checks&nbsp;if&nbsp;a&nbsp;message&nbsp;is&nbsp;in&nbsp;the&nbsp;database.<br>
&nbsp;<br>
:param&nbsp;int&nbsp;message_id:&nbsp;Id&nbsp;of&nbsp;the&nbsp;message&nbsp;to&nbsp;search.<br>
:return:&nbsp;True&nbsp;if&nbsp;the&nbsp;message&nbsp;is&nbsp;in&nbsp;the&nbsp;database.&nbsp;False&nbsp;otherwise.</tt></dd></dl>

<dl><dt><a name="Connection-contains_room"><strong>contains_room</strong></a>(self, room_id)</dt><dd><tt>:return:&nbsp;True&nbsp;if&nbsp;the&nbsp;room&nbsp;is&nbsp;in&nbsp;the&nbsp;database.&nbsp;False&nbsp;otherwise</tt></dd></dl>

<dl><dt><a name="Connection-contains_user"><strong>contains_user</strong></a>(self, user_id)</dt><dd><tt>:return:&nbsp;True&nbsp;if&nbsp;the&nbsp;user&nbsp;is&nbsp;in&nbsp;the&nbsp;database.&nbsp;False&nbsp;otherwise</tt></dd></dl>

<dl><dt><a name="Connection-create_message"><strong>create_message</strong></a>(self, room_id, user_id, content, timestamp)</dt><dd><tt>Create&nbsp;a&nbsp;new&nbsp;message&nbsp;with&nbsp;the&nbsp;data&nbsp;provided&nbsp;as&nbsp;arguments.<br>
&nbsp;<br>
:param&nbsp;int&nbsp;room_id:&nbsp;the&nbsp;room&nbsp;where&nbsp;the&nbsp;message&nbsp;was&nbsp;sent&nbsp;to<br>
&nbsp;<br>
:param&nbsp;int&nbsp;user_id:&nbsp;the&nbsp;user_id&nbsp;of&nbsp;the&nbsp;person&nbsp;who&nbsp;is&nbsp;editing&nbsp;this<br>
&nbsp;&nbsp;&nbsp;&nbsp;message.<br>
:param&nbsp;str&nbsp;content:&nbsp;the&nbsp;message's&nbsp;content<br>
:param&nbsp;int&nbsp;timestamp:&nbsp;the&nbsp;time&nbsp;when&nbsp;the&nbsp;message&nbsp;was&nbsp;received&nbsp;in&nbsp;the&nbsp;server<br>
&nbsp;<br>
:return:&nbsp;the&nbsp;id&nbsp;of&nbsp;the&nbsp;created&nbsp;message&nbsp;or&nbsp;None&nbsp;if&nbsp;the&nbsp;message&nbsp;was<br>
&nbsp;&nbsp;&nbsp;&nbsp;not&nbsp;found.<br>
&nbsp;<br>
:raises&nbsp;ChirrupDatabaseError:&nbsp;if&nbsp;the&nbsp;database&nbsp;could&nbsp;not&nbsp;be&nbsp;modified.<br>
:raises&nbsp;ValueError:&nbsp;if&nbsp;parameters&nbsp;in&nbsp;wrong&nbsp;format</tt></dd></dl>

<dl><dt><a name="Connection-create_room"><strong>create_room</strong></a>(self, name, type, admin)</dt><dd><tt>Create&nbsp;a&nbsp;new&nbsp;room&nbsp;with&nbsp;the&nbsp;data&nbsp;provided&nbsp;as&nbsp;arguments.&nbsp;Also&nbsp;add&nbsp;admin&nbsp;to&nbsp;the&nbsp;new&nbsp;room.<br>
:param&nbsp;str&nbsp;name:&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;room<br>
:param&nbsp;str&nbsp;type:&nbsp;'PUBLIC'/'PRIVATE'<br>
:param&nbsp;int&nbsp;admin:&nbsp;user_id&nbsp;of&nbsp;the&nbsp;admin&nbsp;of&nbsp;the&nbsp;room<br>
:return:&nbsp;the&nbsp;id&nbsp;of&nbsp;the&nbsp;created&nbsp;message&nbsp;or&nbsp;False&nbsp;if&nbsp;the&nbsp;room&nbsp;creation&nbsp;failed&nbsp;or&nbsp;None&nbsp;if&nbsp;admin&nbsp;doesn't&nbsp;exist<br>
:raises&nbsp;ValueError:&nbsp;if&nbsp;parameters&nbsp;in&nbsp;wrong&nbsp;format<br>
:raises&nbsp;sqlite3.IntegrityError:&nbsp;if&nbsp;room&nbsp;name&nbsp;already&nbsp;in&nbsp;use</tt></dd></dl>

<dl><dt><a name="Connection-delete_message"><strong>delete_message</strong></a>(self, message_id)</dt><dd><tt>Delete&nbsp;the&nbsp;message&nbsp;with&nbsp;id&nbsp;given&nbsp;as&nbsp;parameter.<br>
&nbsp;<br>
:param&nbsp;str&nbsp;message:id:&nbsp;id&nbsp;of&nbsp;the&nbsp;message&nbsp;to&nbsp;remove.<br>
:type&nbsp;message_id:&nbsp;int<br>
:return:&nbsp;True&nbsp;if&nbsp;the&nbsp;message&nbsp;has&nbsp;been&nbsp;deleted,&nbsp;False&nbsp;otherwise<br>
:raise:&nbsp;ValueError&nbsp;if&nbsp;message_id&nbsp;not&nbsp;correct&nbsp;format</tt></dd></dl>

<dl><dt><a name="Connection-delete_room"><strong>delete_room</strong></a>(self, room_id)</dt><dd><tt>Set&nbsp;``status``&nbsp;of&nbsp;the&nbsp;room&nbsp;to&nbsp;"INACTIVE".&nbsp;The&nbsp;information&nbsp;can&nbsp;be&nbsp;retrieved&nbsp;if&nbsp;the&nbsp;admin&nbsp;wants&nbsp;it.<br>
(functionality&nbsp;not&nbsp;yet&nbsp;implemented)<br>
:param&nbsp;int&nbsp;room_id:&nbsp;room&nbsp;identifier<br>
:return:&nbsp;True&nbsp;if&nbsp;the&nbsp;room&nbsp;is&nbsp;"deleted",&nbsp;False&nbsp;otherwise&nbsp;or&nbsp;None&nbsp;if&nbsp;room&nbsp;doesn't&nbsp;exist<br>
:raise:&nbsp;ValueError&nbsp;if&nbsp;room_id&nbsp;not&nbsp;valid</tt></dd></dl>

<dl><dt><a name="Connection-delete_user"><strong>delete_user</strong></a>(self, user_id)</dt><dd><tt>Set&nbsp;``status``&nbsp;of&nbsp;the&nbsp;user&nbsp;to&nbsp;"INACTIVE".&nbsp;The&nbsp;information&nbsp;can&nbsp;be&nbsp;retrieved&nbsp;if&nbsp;the&nbsp;user&nbsp;wants&nbsp;it.<br>
If&nbsp;the&nbsp;user&nbsp;is&nbsp;an&nbsp;admin&nbsp;in&nbsp;a&nbsp;room,&nbsp;the&nbsp;user&nbsp;cannot&nbsp;be&nbsp;removed.<br>
&nbsp;<br>
:param&nbsp;int&nbsp;user_id:&nbsp;User&nbsp;identifier&nbsp;.<br>
:return:&nbsp;True&nbsp;if&nbsp;the&nbsp;user&nbsp;is&nbsp;deleted,&nbsp;False&nbsp;otherwise.<br>
:raise:&nbsp;ValueError&nbsp;if&nbsp;user_id&nbsp;not&nbsp;valid</tt></dd></dl>

<dl><dt><a name="Connection-get_message"><strong>get_message</strong></a>(self, message_id)</dt><dd><tt>Extracts&nbsp;a&nbsp;message&nbsp;from&nbsp;the&nbsp;database.<br>
&nbsp;<br>
:param&nbsp;message_id:&nbsp;The&nbsp;id&nbsp;of&nbsp;the&nbsp;message.<br>
:type&nbsp;message_id:&nbsp;int<br>
:return:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;the&nbsp;format&nbsp;provided&nbsp;in<br>
&nbsp;&nbsp;&nbsp;&nbsp;:py:meth:`_create_message_object`&nbsp;or&nbsp;None&nbsp;if&nbsp;the&nbsp;message&nbsp;with&nbsp;target<br>
&nbsp;&nbsp;&nbsp;&nbsp;id&nbsp;does&nbsp;not&nbsp;exist.<br>
:raise&nbsp;ValueError&nbsp;if&nbsp;message_id&nbsp;malformed</tt></dd></dl>

<dl><dt><a name="Connection-get_messages"><strong>get_messages</strong></a>(self, room_id, number_of_messages<font color="#909090">=-1</font>, before<font color="#909090">=-1</font>, after<font color="#909090">=-1</font>)</dt><dd><tt>Return&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;the&nbsp;messages&nbsp;in&nbsp;the&nbsp;database&nbsp;filtered&nbsp;by&nbsp;the<br>
conditions&nbsp;provided&nbsp;in&nbsp;the&nbsp;parameters.<br>
&nbsp;<br>
:param&nbsp;room_id:&nbsp;&nbsp;Search&nbsp;messages&nbsp;filtering&nbsp;with&nbsp;room_id.<br>
:type&nbsp;room_id:&nbsp;int<br>
:param&nbsp;number_of_messages:&nbsp;default&nbsp;-1.&nbsp;Sets&nbsp;the&nbsp;maximum&nbsp;number&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;messages&nbsp;returning&nbsp;in&nbsp;the&nbsp;list.&nbsp;If&nbsp;set&nbsp;to&nbsp;-1,&nbsp;there&nbsp;is&nbsp;no&nbsp;limit.<br>
:type&nbsp;number_of_messages:&nbsp;int<br>
:param&nbsp;before:&nbsp;All&nbsp;timestamps&nbsp;&gt;&nbsp;``before``&nbsp;(UNIX&nbsp;timestamp)&nbsp;are&nbsp;removed.<br>
&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;set&nbsp;to&nbsp;-1,&nbsp;this&nbsp;condition&nbsp;is&nbsp;not&nbsp;applied.<br>
:type&nbsp;before:&nbsp;long<br>
:param&nbsp;after:&nbsp;All&nbsp;timestamps&nbsp;&lt;&nbsp;``after``&nbsp;(UNIX&nbsp;timestamp)&nbsp;are&nbsp;removed.<br>
&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;set&nbsp;to&nbsp;-1,&nbsp;this&nbsp;condition&nbsp;is&nbsp;not&nbsp;applied.<br>
:type&nbsp;after:&nbsp;long<br>
&nbsp;<br>
:return:&nbsp;A&nbsp;list&nbsp;of&nbsp;messages.&nbsp;Each&nbsp;message&nbsp;is&nbsp;a&nbsp;dictionary&nbsp;containing<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;following&nbsp;keys:<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;``message_id``:&nbsp;int<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;``room_id``:&nbsp;room_id&nbsp;where&nbsp;the&nbsp;message&nbsp;was&nbsp;sent&nbsp;to.<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;``user_id``:&nbsp;user_id&nbsp;of&nbsp;the&nbsp;message's&nbsp;author.<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;``content``:&nbsp;string&nbsp;containing&nbsp;the&nbsp;title&nbsp;of&nbsp;the&nbsp;message.<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;``created``:&nbsp;UNIX&nbsp;timestamp&nbsp;(long&nbsp;int)&nbsp;that&nbsp;specifies&nbsp;when&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message&nbsp;was&nbsp;created.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Note&nbsp;that&nbsp;all&nbsp;values&nbsp;in&nbsp;the&nbsp;returned&nbsp;dictionary&nbsp;are&nbsp;string&nbsp;unless<br>
&nbsp;&nbsp;&nbsp;&nbsp;otherwise&nbsp;stated.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;None&nbsp;is&nbsp;returned&nbsp;if&nbsp;there&nbsp;exists&nbsp;no&nbsp;messages&nbsp;with&nbsp;given&nbsp;parameters.<br>
&nbsp;<br>
:raises&nbsp;ValueError:&nbsp;if&nbsp;``before``&nbsp;or&nbsp;``after``&nbsp;are&nbsp;not&nbsp;valid&nbsp;UNIX<br>
&nbsp;&nbsp;&nbsp;&nbsp;timestamps&nbsp;or&nbsp;``before``&nbsp;&gt;&nbsp;``after``&nbsp;or&nbsp;arguments&nbsp;type&nbsp;is&nbsp;not&nbsp;int.<br>
:raises&nbsp;ValueError:&nbsp;if&nbsp;room_id&nbsp;not&nbsp;convertable&nbsp;to&nbsp;int.</tt></dd></dl>

<dl><dt><a name="Connection-get_room"><strong>get_room</strong></a>(self, room_id)</dt><dd><tt>Gets&nbsp;room&nbsp;information.<br>
:param&nbsp;int&nbsp;user_id:&nbsp;user_id&nbsp;of&nbsp;the&nbsp;target&nbsp;user<br>
:return:&nbsp;a&nbsp;room&nbsp;<a href="__builtin__.html#object">object</a>&nbsp;or&nbsp;None&nbsp;if&nbsp;(``room_id``&nbsp;is&nbsp;not&nbsp;in&nbsp;the&nbsp;database&nbsp;or&nbsp;the&nbsp;room&nbsp;is&nbsp;set&nbsp;to&nbsp;INACTIVE(deleted))<br>
:raise:&nbsp;ValueError&nbsp;if&nbsp;room_id&nbsp;malformed</tt></dd></dl>

<dl><dt><a name="Connection-get_room_id"><strong>get_room_id</strong></a>(self, name)</dt><dd><tt>Get&nbsp;the&nbsp;key&nbsp;of&nbsp;the&nbsp;database&nbsp;row&nbsp;which&nbsp;contains&nbsp;the&nbsp;user&nbsp;with&nbsp;the&nbsp;given<br>
name&nbsp;of&nbsp;the&nbsp;room.<br>
&nbsp;<br>
:param&nbsp;str&nbsp;name:&nbsp;The&nbsp;name&nbsp;of&nbsp;the&nbsp;room&nbsp;to&nbsp;search.<br>
:return:&nbsp;the&nbsp;database&nbsp;attribute&nbsp;room_id&nbsp;or&nbsp;None&nbsp;if&nbsp;``name``&nbsp;does&nbsp;not&nbsp;exit.<br>
:raise:&nbsp;ValueError&nbsp;if&nbsp;name&nbsp;not&nbsp;string<br>
:rtype:&nbsp;int</tt></dd></dl>

<dl><dt><a name="Connection-get_room_name"><strong>get_room_name</strong></a>(self, room_id)</dt><dd><tt>Get&nbsp;the&nbsp;key&nbsp;of&nbsp;the&nbsp;database&nbsp;row&nbsp;which&nbsp;contains&nbsp;the&nbsp;room&nbsp;with&nbsp;the&nbsp;given<br>
room_id.<br>
&nbsp;<br>
:param&nbsp;int&nbsp;room_id:&nbsp;The&nbsp;unique&nbsp;identificate&nbsp;of&nbsp;the&nbsp;room.<br>
:return:&nbsp;the&nbsp;database&nbsp;attribute&nbsp;nickname&nbsp;&nbsp;or&nbsp;None&nbsp;if&nbsp;``room_id``&nbsp;does&nbsp;not&nbsp;exit.<br>
:rtype:&nbsp;str<br>
:raise:&nbsp;ValueError&nbsp;if&nbsp;room_id&nbsp;malformed</tt></dd></dl>

<dl><dt><a name="Connection-get_rooms"><strong>get_rooms</strong></a>(self, keyword<font color="#909090">=''</font>, room_type<font color="#909090">=''</font>, number_of_rooms<font color="#909090">=-1</font>, before<font color="#909090">=-1</font>, after<font color="#909090">=-1</font>)</dt><dd><tt>Return&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;the&nbsp;rooms&nbsp;in&nbsp;the&nbsp;database&nbsp;filtered&nbsp;by&nbsp;the<br>
conditions&nbsp;provided&nbsp;in&nbsp;the&nbsp;parameters.<br>
&nbsp;<br>
:param&nbsp;number_of_rooms:&nbsp;default&nbsp;-1.&nbsp;Sets&nbsp;the&nbsp;maximum&nbsp;number&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;messages&nbsp;returning&nbsp;in&nbsp;the&nbsp;list.&nbsp;If&nbsp;set&nbsp;to&nbsp;-1,&nbsp;there&nbsp;is&nbsp;no&nbsp;limit.<br>
:type&nbsp;number_of_rooms:&nbsp;int<br>
:param&nbsp;before:&nbsp;All&nbsp;timestamps&nbsp;&gt;&nbsp;``before``&nbsp;(UNIX&nbsp;timestamp)&nbsp;are&nbsp;removed.<br>
&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;set&nbsp;to&nbsp;-1,&nbsp;this&nbsp;condition&nbsp;is&nbsp;not&nbsp;applied.<br>
:type&nbsp;before:&nbsp;long<br>
:param&nbsp;after:&nbsp;All&nbsp;timestamps&nbsp;&lt;&nbsp;``after``&nbsp;(UNIX&nbsp;timestamp)&nbsp;are&nbsp;removed.<br>
&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;set&nbsp;to&nbsp;-1,&nbsp;this&nbsp;condition&nbsp;is&nbsp;not&nbsp;applied.<br>
:type&nbsp;after:&nbsp;long<br>
&nbsp;<br>
:return:&nbsp;A&nbsp;list&nbsp;of&nbsp;messages.&nbsp;Each&nbsp;message&nbsp;is&nbsp;a&nbsp;dictionary&nbsp;containing<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;following&nbsp;keys:<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;``message_id``:&nbsp;int<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;``room_id``:&nbsp;room_id&nbsp;where&nbsp;the&nbsp;message&nbsp;was&nbsp;sent&nbsp;to.<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;``user_id``:&nbsp;user_id&nbsp;of&nbsp;the&nbsp;message's&nbsp;author.<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;``content``:&nbsp;string&nbsp;containing&nbsp;the&nbsp;title&nbsp;of&nbsp;the&nbsp;message.<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;``created``:&nbsp;UNIX&nbsp;timestamp&nbsp;(long&nbsp;int)&nbsp;that&nbsp;specifies&nbsp;when&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message&nbsp;was&nbsp;created.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Note&nbsp;that&nbsp;all&nbsp;values&nbsp;in&nbsp;the&nbsp;returned&nbsp;dictionary&nbsp;are&nbsp;string&nbsp;unless<br>
&nbsp;&nbsp;&nbsp;&nbsp;otherwise&nbsp;stated.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;None&nbsp;is&nbsp;returned&nbsp;if&nbsp;the&nbsp;room_id&nbsp;doesn't&nbsp;exist.<br>
&nbsp;<br>
:raises&nbsp;ValueError:&nbsp;if&nbsp;``before``&nbsp;or&nbsp;``after``&nbsp;are&nbsp;not&nbsp;valid&nbsp;UNIX<br>
&nbsp;&nbsp;&nbsp;&nbsp;timestamps&nbsp;or&nbsp;``before``&nbsp;&gt;&nbsp;``after``&nbsp;or&nbsp;arguments&nbsp;type&nbsp;is&nbsp;not&nbsp;int.</tt></dd></dl>

<dl><dt><a name="Connection-get_user"><strong>get_user</strong></a>(self, user_id)</dt><dd><tt>Extracts&nbsp;all&nbsp;the&nbsp;information&nbsp;of&nbsp;a&nbsp;user.<br>
&nbsp;<br>
:param&nbsp;int&nbsp;user_id:<br>
:return:&nbsp;dictionary&nbsp;with&nbsp;the&nbsp;format&nbsp;provided&nbsp;in&nbsp;the&nbsp;method:<br>
&nbsp;&nbsp;&nbsp;&nbsp;:py:meth:`_create_user_object`&nbsp;or&nbsp;None&nbsp;if&nbsp;the&nbsp;user&nbsp;doesn't&nbsp;exist<br>
:raise&nbsp;ValueError&nbsp;if&nbsp;user_id&nbsp;not&nbsp;valid</tt></dd></dl>

<dl><dt><a name="Connection-get_user_id"><strong>get_user_id</strong></a>(self, nickname)</dt><dd><tt>Get&nbsp;the&nbsp;key&nbsp;of&nbsp;the&nbsp;database&nbsp;row&nbsp;which&nbsp;contains&nbsp;the&nbsp;user&nbsp;with&nbsp;the&nbsp;given<br>
nickname.<br>
&nbsp;<br>
:param&nbsp;str&nbsp;nickname:&nbsp;The&nbsp;nickname&nbsp;of&nbsp;the&nbsp;user&nbsp;to&nbsp;search.<br>
:return:&nbsp;the&nbsp;database&nbsp;attribute&nbsp;user_id&nbsp;&nbsp;or&nbsp;None&nbsp;if&nbsp;``nickname``&nbsp;does&nbsp;not&nbsp;exit.<br>
:rtype:&nbsp;int</tt></dd></dl>

<dl><dt><a name="Connection-get_user_nickname"><strong>get_user_nickname</strong></a>(self, user_id)</dt><dd><tt>Get&nbsp;the&nbsp;key&nbsp;of&nbsp;the&nbsp;database&nbsp;row&nbsp;which&nbsp;contains&nbsp;the&nbsp;user_profile&nbsp;with&nbsp;the&nbsp;given<br>
user_id.<br>
&nbsp;<br>
:param&nbsp;int&nbsp;user_id:&nbsp;The&nbsp;unique&nbsp;identificate&nbsp;of&nbsp;the&nbsp;user.<br>
:return:&nbsp;the&nbsp;database&nbsp;attribute&nbsp;nickname&nbsp;&nbsp;or&nbsp;None&nbsp;if&nbsp;``user_id``&nbsp;does&nbsp;not&nbsp;exit.<br>
:rtype:&nbsp;str</tt></dd></dl>

<dl><dt><a name="Connection-get_user_rooms"><strong>get_user_rooms</strong></a>(self, user_id)</dt><dd><tt>Gets&nbsp;all&nbsp;the&nbsp;rooms&nbsp;the&nbsp;user&nbsp;has&nbsp;currently&nbsp;joined.<br>
&nbsp;<br>
:param&nbsp;int&nbsp;user_id:&nbsp;user_id&nbsp;of&nbsp;the&nbsp;target&nbsp;user<br>
:return:&nbsp;list&nbsp;of&nbsp;dictionaries&nbsp;in&nbsp;format:<br>
{'joined':&nbsp;&lt;UNIX&nbsp;timestamp&gt;,&nbsp;'room':&nbsp;room_object}&nbsp;or&nbsp;None&nbsp;if&nbsp;``user_id``&nbsp;is&nbsp;not&nbsp;in&nbsp;the&nbsp;database&nbsp;or&nbsp;no&nbsp;rooms&nbsp;were&nbsp;found.<br>
:raise:&nbsp;ValueError&nbsp;if&nbsp;user_id&nbsp;malformed</tt></dd></dl>

<dl><dt><a name="Connection-get_users"><strong>get_users</strong></a>(self)</dt><dd><tt>Extracts&nbsp;all&nbsp;users&nbsp;in&nbsp;the&nbsp;database.<br>
&nbsp;<br>
:return:&nbsp;list&nbsp;of&nbsp;Users-<a href="__builtin__.html#object">object</a>&nbsp;of&nbsp;the&nbsp;database.&nbsp;&nbsp;None&nbsp;is&nbsp;returned&nbsp;if&nbsp;the&nbsp;database&nbsp;has&nbsp;no&nbsp;users.</tt></dd></dl>

<dl><dt><a name="Connection-modify_room"><strong>modify_room</strong></a>(self, room_id, room)</dt><dd><tt>Modify&nbsp;the&nbsp;information&nbsp;of&nbsp;a&nbsp;room.<br>
&nbsp;<br>
:param&nbsp;int&nbsp;room_id:&nbsp;room&nbsp;identifier<br>
:param&nbsp;room:&nbsp;a&nbsp;dictionary&nbsp;with&nbsp;the&nbsp;following&nbsp;format:<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;``name``:&nbsp;name&nbsp;of&nbsp;the&nbsp;room<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;``type``:&nbsp;"PRIVATE"&nbsp;or&nbsp;"PUBLIC"<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;``admin``:&nbsp;user_id&nbsp;of&nbsp;the&nbsp;user&nbsp;with&nbsp;admin&nbsp;privileges,&nbsp;initially&nbsp;given&nbsp;for&nbsp;the&nbsp;user&nbsp;who&nbsp;creates&nbsp;the&nbsp;room<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;``status``:&nbsp;ACTIVE/INACTIVE,&nbsp;deleting&nbsp;a&nbsp;user&nbsp;sets&nbsp;this&nbsp;field&nbsp;INACTIVE.<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;``created``:&nbsp;when&nbsp;the&nbsp;room&nbsp;was&nbsp;created,&nbsp;UNIX&nbsp;timestamp&nbsp;(long&nbsp;integer)<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;``updated``:&nbsp;when&nbsp;the&nbsp;room&nbsp;information(name,&nbsp;type,&nbsp;admin,&nbsp;status)&nbsp;was&nbsp;modified,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UNIX&nbsp;timestamp&nbsp;(long&nbsp;integer)<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Note&nbsp;that&nbsp;all&nbsp;values&nbsp;are&nbsp;string&nbsp;if&nbsp;they&nbsp;are&nbsp;not&nbsp;otherwise&nbsp;indicated.<br>
&nbsp;<br>
:return:&nbsp;the&nbsp;room_id&nbsp;of&nbsp;the&nbsp;modified&nbsp;user&nbsp;or&nbsp;None&nbsp;if&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;``room_id``&nbsp;or&nbsp;room['admin']&nbsp;is&nbsp;not&nbsp;in&nbsp;the&nbsp;database.<br>
:raise&nbsp;ValueError:&nbsp;if&nbsp;the&nbsp;user&nbsp;argument&nbsp;is&nbsp;not&nbsp;well&nbsp;formed.</tt></dd></dl>

<dl><dt><a name="Connection-modify_user"><strong>modify_user</strong></a>(self, user_id, user)</dt><dd><tt>Modify&nbsp;the&nbsp;information&nbsp;of&nbsp;a&nbsp;user.<br>
&nbsp;<br>
:param&nbsp;int&nbsp;user_id:&nbsp;The&nbsp;nickname&nbsp;of&nbsp;the&nbsp;user&nbsp;to&nbsp;modify<br>
:param&nbsp;user:&nbsp;a&nbsp;dictionary&nbsp;with&nbsp;the&nbsp;following&nbsp;format:<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;..&nbsp;code-block::&nbsp;javascript<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{'public_profile':{'nickname':,'image':''},<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'private_profile':{'username':'','email':'',<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'status':'','created':'','updated':''}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;where:<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;``nickname``:&nbsp;nickname&nbsp;of&nbsp;the&nbsp;user<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;``image``:&nbsp;name&nbsp;of&nbsp;the&nbsp;image&nbsp;file<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;``username``:&nbsp;used&nbsp;for&nbsp;login<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;``email``:&nbsp;current&nbsp;email&nbsp;of&nbsp;the&nbsp;user,&nbsp;login&nbsp;and&nbsp;user&nbsp;contact&nbsp;purposes<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;``status``:&nbsp;ACTIVE/INACTIVE,&nbsp;deleting&nbsp;a&nbsp;user&nbsp;sets&nbsp;this&nbsp;field&nbsp;INACTIVE.<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;``created``:&nbsp;when&nbsp;the&nbsp;user&nbsp;account&nbsp;was&nbsp;created,&nbsp;UNIX&nbsp;timestamp&nbsp;when&nbsp;the&nbsp;user&nbsp;registered&nbsp;in&nbsp;the&nbsp;system&nbsp;(long&nbsp;integer)<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;``updated``:&nbsp;when&nbsp;the&nbsp;user&nbsp;account&nbsp;was&nbsp;modified,&nbsp;UNIX&nbsp;timestamp&nbsp;when&nbsp;the&nbsp;user&nbsp;registered&nbsp;in&nbsp;the&nbsp;system&nbsp;(long&nbsp;integer)<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Note&nbsp;that&nbsp;all&nbsp;values&nbsp;are&nbsp;string&nbsp;if&nbsp;they&nbsp;are&nbsp;not&nbsp;otherwise&nbsp;indicated.<br>
&nbsp;<br>
:return:&nbsp;the&nbsp;user_id&nbsp;of&nbsp;the&nbsp;modified&nbsp;user&nbsp;or&nbsp;None&nbsp;if&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;``user_id``&nbsp;passed&nbsp;as&nbsp;parameter&nbsp;is&nbsp;not&nbsp;in&nbsp;the&nbsp;database.<br>
:raise&nbsp;ValueError:&nbsp;if&nbsp;the&nbsp;user&nbsp;argument&nbsp;is&nbsp;not&nbsp;well&nbsp;formed.<br>
:raise&nbsp;sqlite3.DatabaseError:&nbsp;if&nbsp;database&nbsp;action&nbsp;not&nbsp;allowed</tt></dd></dl>

<dl><dt><a name="Connection-remove_room_member"><strong>remove_room_member</strong></a>(self, room_id, user_id)</dt><dd><tt>Removes&nbsp;a&nbsp;user&nbsp;from&nbsp;a&nbsp;room&nbsp;i.e.&nbsp;deletes&nbsp;the&nbsp;correct&nbsp;row&nbsp;in&nbsp;the&nbsp;room_users&nbsp;table.<br>
:param&nbsp;int&nbsp;room_id:&nbsp;room&nbsp;identifier<br>
:param&nbsp;int&nbsp;use_id:&nbsp;user&nbsp;identifier<br>
:return:&nbsp;True&nbsp;if&nbsp;the&nbsp;member&nbsp;has&nbsp;been&nbsp;deleted,&nbsp;False&nbsp;if&nbsp;delete-process&nbsp;failed<br>
or&nbsp;None&nbsp;if&nbsp;room&nbsp;or&nbsp;user&nbsp;don't&nbsp;exist.<br>
:raise:&nbsp;ValueError&nbsp;if&nbsp;room_id&nbsp;or&nbsp;user_id&nbsp;malformed</tt></dd></dl>

<dl><dt><a name="Connection-room_contains_member"><strong>room_contains_member</strong></a>(self, room_id, user_id)</dt><dd><tt>Checks&nbsp;if&nbsp;user&nbsp;joined&nbsp;in&nbsp;a&nbsp;room.<br>
:param&nbsp;int&nbsp;room_id:&nbsp;room&nbsp;identifier<br>
:param&nbsp;int&nbsp;user_id:&nbsp;user&nbsp;identifier<br>
:return:&nbsp;True&nbsp;if&nbsp;the&nbsp;user&nbsp;joined&nbsp;in&nbsp;a&nbsp;room,&nbsp;False&nbsp;if&nbsp;not<br>
or&nbsp;None&nbsp;if&nbsp;room&nbsp;or&nbsp;user&nbsp;don't&nbsp;exist.<br>
:raise:&nbsp;ValueError&nbsp;if&nbsp;room_id&nbsp;or&nbsp;user_id&nbsp;malformed</tt></dd></dl>

<dl><dt><a name="Connection-set_foreign_keys_support"><strong>set_foreign_keys_support</strong></a>(self)</dt><dd><tt>Activate&nbsp;the&nbsp;support&nbsp;for&nbsp;foreign&nbsp;keys.<br>
&nbsp;<br>
:return:&nbsp;``True``&nbsp;if&nbsp;operation&nbsp;succeed&nbsp;and&nbsp;``False``&nbsp;otherwise.</tt></dd></dl>

<dl><dt><a name="Connection-unset_foreign_keys_support"><strong>unset_foreign_keys_support</strong></a>(self)</dt><dd><tt>Deactivate&nbsp;the&nbsp;support&nbsp;for&nbsp;foreign&nbsp;keys.<br>
&nbsp;<br>
:return:&nbsp;``True``&nbsp;if&nbsp;operation&nbsp;succeed&nbsp;and&nbsp;``False``&nbsp;otherwise.</tt></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
</td></tr></table></td></tr></table>
</body></html>